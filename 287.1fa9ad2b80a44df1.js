"use strict";(self.webpackChunkFrontend=self.webpackChunkFrontend||[]).push([[287],{8859:(M,f,e)=>{e.d(f,{O:()=>m});var t=e(9862),a=e(7924),o=e(5879),p=e(3403);let m=(()=>{class c{constructor(s,d){this.http=s,this.router=d,this.URL=a.N.backendURL+"/public/",this.URLuser=a.N.backendURL+"/user/"}getRooms(s,d,h){let C=`${this.URL}rooms?page=${s+1}&per_page=${d}`;return h&&(C+=`&city_id=${h}`),this.http.get(C)}getRoomies(s,d,h){let C=`${this.URL}roomies?page=${s+1}&per_page=${d}`;return h&&(C+=`&city_id=${h}`),this.http.get(C)}getName(s){return this.http.get(`${this.URL}user/${s}`)}getUserById(s){return this.http.get(`${this.URLuser}${s}`,{headers:new t.WM({Authorization:`Bearer ${sessionStorage.getItem("token")}`})})}getContent(s){return this.http.get(`${this.URL}get-room-content/${s}`)}}return c.\u0275fac=function(s){return new(s||c)(o.LFG(t.eN),o.LFG(p.F0))},c.\u0275prov=o.Yz7({token:c,factory:c.\u0275fac,providedIn:"root"}),c})()},3015:(M,f,e)=>{e.d(f,{z:()=>p});var t=e(7700),a=e(5879),o=e(2296);let p=(()=>{class m{constructor(i,s){this.dialogRef=i,this.message=s}onNo(){this.dialogRef.close()}}return m.\u0275fac=function(i){return new(i||m)(a.Y36(t.so),a.Y36(t.WI))},m.\u0275cmp=a.Xpm({type:m,selectors:[["app-confirmation-dialog"]],decls:10,vars:2,consts:[["mat-raised-button","",1,"cancel",3,"click"],["mat-raised-button","",1,"save",3,"mat-dialog-close"]],template:function(i,s){1&i&&(a.TgZ(0,"h2"),a._uU(1,"Confirmaci\xf3n"),a.qZA(),a.TgZ(2,"mat-dialog-content")(3,"p"),a._uU(4),a.qZA()(),a.TgZ(5,"mat-dialog-actions")(6,"button",0),a.NdJ("click",function(){return s.onNo()}),a._uU(7,"No"),a.qZA(),a.TgZ(8,"button",1),a._uU(9,"S\xed"),a.qZA()()),2&i&&(a.xp6(4),a.Oqu(s.message),a.xp6(4),a.Q6J("mat-dialog-close",!0))},dependencies:[o.lW,t.ZT,t.xY,t.H8],styles:["*[_ngcontent-%COMP%]{font-family:MiFuente}mat-dialog-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-family:MiFuente}h2[_ngcontent-%COMP%]{height:-moz-fit-content;height:fit-content;margin-left:20px}p[_ngcontent-%COMP%]{height:-moz-fit-content;height:fit-content}.cancel[_ngcontent-%COMP%]{background-color:#c00;color:#fff}.save[_ngcontent-%COMP%]{background-color:#007e3e;color:#fff}"]}),m})()},655:(M,f,e)=>{e.d(f,{g:()=>l});var t=e(6223),a=e(7700),o=e(5879),p=e(9913),m=e(6814),c=e(2296),i=e(9157),s=e(2032),d=e(2599),h=e(3680),C=e(4913);function v(u,n){if(1&u&&(o.TgZ(0,"mat-option",19),o._uU(1),o.qZA()),2&u){const r=n.$implicit;o.Q6J("value",r.id),o.xp6(1),o.Oqu(r.name)}}let l=(()=>{class u{constructor(r,_,g,T){this.fb=r,this.dialogRef=_,this.data=g,this.userService=T,this.cities=[],this.roomForm=this.fb.group({title:[g.title,t.kI.required],description:[g.description,t.kI.required],smoke:[g.smoke],pet:[g.pet],priv_bath:[g.priv_bath],n_baths:[g.n_baths,t.kI.required],n_rooms:[g.n_rooms,t.kI.required],garage:[g.garage],n_roomies:[g.n_roomies,t.kI.required],price:[g.price,t.kI.required],location:[g.location,t.kI.required],city_id:[g.city_id,t.kI.required]})}ngOnInit(){this.loadCities()}loadCities(){this.userService.getCities().subscribe(r=>{this.cities=r},r=>{console.error(r)})}save(){this.roomForm.valid&&this.dialogRef.close(this.roomForm.value)}}return u.\u0275fac=function(r){return new(r||u)(o.Y36(t.qu),o.Y36(a.so),o.Y36(a.WI),o.Y36(p.K))},u.\u0275cmp=o.Xpm({type:u,selectors:[["app-edit-room-dialog"]],decls:51,vars:3,consts:[["mat-dialog-content","",1,"container"],[3,"formGroup"],["matInput","","formControlName","title"],[1,"options"],["formControlName","smoke"],["formControlName","pet"],["formControlName","priv_bath"],["formControlName","garage"],["matInput","","type","number","formControlName","n_baths"],["matInput","","type","number","formControlName","n_rooms"],["matInput","","type","number","formControlName","n_roomies"],["matInput","","type","number","formControlName","price"],["matInput","","formControlName","location"],["matInput","","formControlName","city_id","required",""],[3,"value",4,"ngFor","ngForOf"],["matInput","","formControlName","description"],["mat-dialog-actions","",1,"buttons"],["mat-raised-button","",1,"cancel",3,"click"],["mat-raised-button","",1,"save",3,"disabled","click"],[3,"value"]],template:function(r,_){1&r&&(o.TgZ(0,"h1"),o._uU(1,"Editar Room"),o.qZA(),o.TgZ(2,"div",0)(3,"form",1)(4,"mat-form-field")(5,"mat-label"),o._uU(6,"Titulo"),o.qZA(),o._UZ(7,"input",2),o.qZA(),o.TgZ(8,"div",3)(9,"mat-slide-toggle",4),o._uU(10,"Se p\xf9ede fumar?"),o.qZA(),o.TgZ(11,"mat-slide-toggle",5),o._uU(12,"Se permiten mascotas?"),o.qZA(),o.TgZ(13,"mat-slide-toggle",6),o._uU(14,"Ba\xf1o en habitacion?"),o.qZA(),o.TgZ(15,"mat-slide-toggle",7),o._uU(16,"Garaje incluido?"),o.qZA()(),o.TgZ(17,"mat-form-field")(18,"mat-label"),o._uU(19,"N\xba de ba\xf1os"),o.qZA(),o._UZ(20,"input",8),o.qZA(),o.TgZ(21,"mat-form-field")(22,"mat-label"),o._uU(23,"N\xba de habitaciones"),o.qZA(),o._UZ(24,"input",9),o.qZA(),o.TgZ(25,"mat-form-field")(26,"mat-label"),o._uU(27,"N\xba de compa\xf1eros en el piso"),o.qZA(),o._UZ(28,"input",10),o.qZA(),o.TgZ(29,"mat-form-field")(30,"mat-label"),o._uU(31,"Precio"),o.qZA(),o._UZ(32,"input",11),o.qZA(),o.TgZ(33,"mat-form-field")(34,"mat-label"),o._uU(35,"Direccion"),o.qZA(),o._UZ(36,"input",12),o.qZA(),o.TgZ(37,"mat-form-field")(38,"mat-label"),o._uU(39,"Ciudad"),o.qZA(),o.TgZ(40,"mat-select",13),o.YNc(41,v,2,2,"mat-option",14),o.qZA()(),o.TgZ(42,"mat-form-field")(43,"mat-label"),o._uU(44,"Descripcion"),o.qZA(),o._UZ(45,"textarea",15),o.qZA()()(),o.TgZ(46,"div",16)(47,"button",17),o.NdJ("click",function(){return _.dialogRef.close()}),o._uU(48,"Cancelar"),o.qZA(),o.TgZ(49,"button",18),o.NdJ("click",function(){return _.save()}),o._uU(50,"Guardar"),o.qZA()()),2&r&&(o.xp6(3),o.Q6J("formGroup",_.roomForm),o.xp6(38),o.Q6J("ngForOf",_.cities),o.xp6(8),o.Q6J("disabled",!_.roomForm.valid))},dependencies:[m.sg,c.lW,i.KE,i.hX,t._Y,t.Fj,t.wV,t.JJ,t.JL,t.Q7,t.sg,t.u,s.Nt,a.xY,a.H8,d.Rr,h.ey,C.gD],styles:["*[_ngcontent-%COMP%]{font-family:MiFuente}h1[_ngcontent-%COMP%]{font-family:MiFuente;text-align:center}.buttons[_ngcontent-%COMP%]{display:flex;justify-content:center;font-size:medium}form[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center}.options[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:left}.cancel[_ngcontent-%COMP%]{background-color:#c00;color:#fff}.save[_ngcontent-%COMP%]{background-color:#007e3e;color:#fff}"]}),u})()},5036:(M,f,e)=>{e.d(f,{B:()=>v});var t=e(6223),a=e(7700),o=e(5879),p=e(9913),m=e(6814),c=e(2296),i=e(9157),s=e(2032),d=e(3680),h=e(4913);function C(l,u){if(1&l&&(o.TgZ(0,"mat-option",9),o._uU(1),o.qZA()),2&l){const n=u.$implicit;o.Q6J("value",n.id),o.xp6(1),o.Oqu(n.name)}}let v=(()=>{class l{constructor(n,r,_,g){this.fb=n,this.dialogRef=r,this.data=_,this.userService=g,this.cities=[],this.roomieForm=this.fb.group({title:[_.title,t.kI.required],content:[_.content,t.kI.required],city_id:[_.city_id,t.kI.required]})}ngOnInit(){this.loadCities()}loadCities(){this.userService.getCities().subscribe(n=>{this.cities=n},n=>{console.error(n)})}save(){this.roomieForm.valid&&this.dialogRef.close(this.roomieForm.value)}}return l.\u0275fac=function(n){return new(n||l)(o.Y36(t.qu),o.Y36(a.so),o.Y36(a.WI),o.Y36(p.K))},l.\u0275cmp=o.Xpm({type:l,selectors:[["app-edit-roomie-dialog"]],decls:22,vars:3,consts:[["mat-dialog-content",""],[3,"formGroup"],["matInput","","formControlName","title"],["matInput","","formControlName","city_id","required",""],[3,"value",4,"ngFor","ngForOf"],["matInput","","formControlName","content"],["mat-dialog-actions","",1,"buttons"],["mat-raised-button","",1,"cancel",3,"click"],["mat-raised-button","",1,"save",3,"disabled","click"],[3,"value"]],template:function(n,r){1&n&&(o.TgZ(0,"h1"),o._uU(1,"Editar Roomie"),o.qZA(),o.TgZ(2,"div",0)(3,"form",1)(4,"mat-form-field")(5,"mat-label"),o._uU(6,"Titulo"),o.qZA(),o._UZ(7,"input",2),o.qZA(),o.TgZ(8,"mat-form-field")(9,"mat-label"),o._uU(10,"Ciudad"),o.qZA(),o.TgZ(11,"mat-select",3),o.YNc(12,C,2,2,"mat-option",4),o.qZA()(),o.TgZ(13,"mat-form-field")(14,"mat-label"),o._uU(15,"Descripcion"),o.qZA(),o._UZ(16,"textarea",5),o.qZA()()(),o.TgZ(17,"div",6)(18,"button",7),o.NdJ("click",function(){return r.dialogRef.close()}),o._uU(19,"Cancelar"),o.qZA(),o.TgZ(20,"button",8),o.NdJ("click",function(){return r.save()}),o._uU(21,"Guardar"),o.qZA()()),2&n&&(o.xp6(3),o.Q6J("formGroup",r.roomieForm),o.xp6(9),o.Q6J("ngForOf",r.cities),o.xp6(8),o.Q6J("disabled",!r.roomieForm.valid))},dependencies:[m.sg,c.lW,i.KE,i.hX,t._Y,t.Fj,t.JJ,t.JL,t.Q7,t.sg,t.u,s.Nt,a.xY,a.H8,d.ey,h.gD],styles:["*[_ngcontent-%COMP%]{font-family:MiFuente}h1[_ngcontent-%COMP%]{font-family:MiFuente;text-align:center}.buttons[_ngcontent-%COMP%]{display:flex;justify-content:center}.cancel[_ngcontent-%COMP%]{background-color:#c00;color:#fff}.save[_ngcontent-%COMP%]{background-color:#007e3e;color:#fff}form[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center}"]}),l})()},833:(M,f,e)=>{e.d(f,{S:()=>v});var t=e(5879),a=e(3403),o=e(6814),p=e(1274),m=e(2296),c=e(617),i=e(6311);function s(l,u){if(1&l){const n=t.EpF();t.TgZ(0,"div",12)(1,"button",13),t.NdJ("click",function(){t.CHM(n);const _=t.oxw();return t.KtG(_.goToLogin())}),t.TgZ(2,"p",14),t._uU(3,"Iniciar Sesion"),t.qZA()(),t.TgZ(4,"button",13),t.NdJ("click",function(){t.CHM(n);const _=t.oxw();return t.KtG(_.goToSignUp())}),t.TgZ(5,"p",14),t._uU(6,"Registrarse"),t.qZA()()()}}function d(l,u){if(1&l&&(t.TgZ(0,"button",15)(1,"mat-icon",16),t._uU(2,"menu"),t.qZA()()),2&l){t.oxw();const n=t.MAs(8);t.Q6J("matMenuTriggerFor",n)}}function h(l,u){if(1&l){const n=t.EpF();t.TgZ(0,"div")(1,"button",17),t.NdJ("click",function(){t.CHM(n);const _=t.oxw();return t.KtG(_.goProfile())}),t.TgZ(2,"mat-icon"),t._uU(3,"account_circle"),t.qZA(),t.TgZ(4,"span"),t._uU(5,"Perfil"),t.qZA()(),t.TgZ(6,"button",17),t.NdJ("click",function(){t.CHM(n);const _=t.oxw();return t.KtG(_.goToMyRooms())}),t.TgZ(7,"mat-icon"),t._uU(8,"bed"),t.qZA(),t.TgZ(9,"span"),t._uU(10,"Mis Rooms"),t.qZA()(),t.TgZ(11,"button",17),t.NdJ("click",function(){t.CHM(n);const _=t.oxw();return t.KtG(_.goToMyRoomies())}),t.TgZ(12,"mat-icon"),t._uU(13,"groups"),t.qZA(),t.TgZ(14,"span"),t._uU(15,"Mis Roomies"),t.qZA()(),t.TgZ(16,"button",17),t.NdJ("click",function(){t.CHM(n);const _=t.oxw();return t.KtG(_.logout())}),t.TgZ(17,"mat-icon"),t._uU(18,"exit_to_app"),t.qZA(),t.TgZ(19,"span"),t._uU(20,"Salir"),t.qZA()()()}}function C(l,u){if(1&l){const n=t.EpF();t.TgZ(0,"div")(1,"button",17),t.NdJ("click",function(){t.CHM(n);const _=t.oxw();return t.KtG(_.goProfile())}),t.TgZ(2,"mat-icon"),t._uU(3,"account_circle"),t.qZA(),t.TgZ(4,"span"),t._uU(5,"Perfil"),t.qZA()(),t.TgZ(6,"button",17),t.NdJ("click",function(){t.CHM(n);const _=t.oxw();return t.KtG(_.goToUsers())}),t.TgZ(7,"mat-icon"),t._uU(8,"groups"),t.qZA(),t.TgZ(9,"span"),t._uU(10,"Users"),t.qZA()(),t.TgZ(11,"button",17),t.NdJ("click",function(){t.CHM(n);const _=t.oxw();return t.KtG(_.logout())}),t.TgZ(12,"mat-icon"),t._uU(13,"exit_to_app"),t.qZA(),t.TgZ(14,"span"),t._uU(15,"Salir"),t.qZA()()()}}let v=(()=>{class l{constructor(n){this.router=n,this.logged=!1,this.admin=!1,this.activeButton=""}ngOnInit(){this.logged=this.isLogged(),this.admin=this.isAdmin()}setActiveButton(n){this.activeButton=n,"rooms"==n&&this.router.navigate(["/home/rooms"]),"roomies"==n&&this.router.navigate(["/home/roomies"])}goToLogin(){this.router.navigate(["/auth/login"])}goToSignUp(){this.router.navigate(["/auth/sign-up"])}isLogged(){return"true"==sessionStorage.getItem("isLogged")}isAdmin(){return"true"==sessionStorage.getItem("isAdmin")}logout(){window.sessionStorage.clear(),this.router.navigate(["/auth/login"])}goProfile(){this.router.navigate(["/user/profile"])}goToMyRooms(){this.router.navigate(["/user/my-rooms"])}goToMyRoomies(){this.router.navigate(["/user/my-roomies"])}goToRoomies(){this.router.navigate(["/admin/roomies"])}goToRooms(){this.router.navigate(["/admin/rooms"])}goToUsers(){this.router.navigate(["/admin/users"])}}return l.\u0275fac=function(n){return new(n||l)(t.Y36(a.F0))},l.\u0275cmp=t.Xpm({type:l,selectors:[["app-navbar"]],decls:24,vars:8,consts:[["href","/home"],["src","../../../assets/images/logo2.png","alt",""],[1,"example-spacer"],["class","button-row",4,"ngIf"],["mat-icon-button","","class","perfil",3,"matMenuTriggerFor",4,"ngIf"],["menu",""],[4,"ngIf"],[1,"main"],["mat-button","",3,"click"],[1,"switch"],[2,"font-size","24px","margin-right","8px","width","24px","margin-bottom","3px"],[1,"ir",2,"font-size","24px","margin-right","8px","width","24px","margin-bottom","5px"],[1,"button-row"],["mat-raised-button","",3,"click"],[1,"log"],["mat-icon-button","",1,"perfil",3,"matMenuTriggerFor"],[1,"perfilButton"],["mat-menu-item","",3,"click"]],template:function(n,r){1&n&&(t.TgZ(0,"mat-toolbar")(1,"mat-toolbar-row")(2,"a",0),t._UZ(3,"img",1),t.qZA(),t._UZ(4,"span",2),t.YNc(5,s,7,0,"div",3),t.YNc(6,d,3,1,"button",4),t.TgZ(7,"mat-menu",null,5),t.YNc(9,h,21,0,"div",6),t.YNc(10,C,16,0,"div",6),t.qZA()(),t.TgZ(11,"mat-toolbar-row")(12,"div",7)(13,"button",8),t.NdJ("click",function(){return r.setActiveButton("rooms")}),t.TgZ(14,"p",9),t._uU(15,"ROOMS"),t.qZA(),t.TgZ(16,"mat-icon",10),t._uU(17,"bed"),t.qZA()(),t.TgZ(18,"button",8),t.NdJ("click",function(){return r.setActiveButton("roomies")}),t.TgZ(19,"p",9),t._uU(20,"ROOMIES"),t.qZA(),t.TgZ(21,"mat-icon",11),t._uU(22,"groups"),t.qZA()()()()(),t._UZ(23,"router-outlet")),2&n&&(t.xp6(5),t.Q6J("ngIf",!r.logged),t.xp6(1),t.Q6J("ngIf",r.logged),t.xp6(3),t.Q6J("ngIf",!r.admin),t.xp6(1),t.Q6J("ngIf",r.admin),t.xp6(3),t.ekj("active","rooms"===r.activeButton),t.xp6(5),t.ekj("active","roomies"===r.activeButton))},dependencies:[o.O5,a.lC,p.Ye,p.rD,m.lW,m.RK,c.Hw,i.VK,i.OP,i.p6],styles:[".mat-toolbar[_ngcontent-%COMP%]{background-color:#007e3e;position:fixed;top:0;z-index:1000}.example-spacer[_ngcontent-%COMP%]{flex:1 1 auto}img[_ngcontent-%COMP%]{margin-top:15px;width:70px;height:auto}.perfil[_ngcontent-%COMP%]{margin-top:15px}.button-row[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:first-child{margin-right:8px}.button-row[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#004b23;border:1px solid white;color:#fff}.main[_ngcontent-%COMP%]{display:flex;width:100%}.main[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{flex:auto;font-size:35px;font-weight:600;margin-left:10px;margin-right:10px;width:50vw}.log[_ngcontent-%COMP%]{font-size:20px}.main[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover, .main[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%], .main[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]:hover{background-color:#004b23;color:#fff}p[_ngcontent-%COMP%]{font-family:MiFuente}@media (max-width: 600px){.main[_ngcontent-%COMP%]{position:relative}.button-row[_ngcontent-%COMP%]{z-index:2}img[_ngcontent-%COMP%]{width:50px;height:auto}.perfil[_ngcontent-%COMP%]{z-index:1000}}"]}),l})()},9913:(M,f,e)=>{e.d(f,{K:()=>p});var t=e(9862),a=e(7924),o=e(5879);let p=(()=>{class m{constructor(i){this.http=i,this.URLuser=a.N.backendURL+"/user/"}getSelfInfo(){return this.http.get(`${this.URLuser}jwt`,{headers:new t.WM({Authorization:`Bearer ${sessionStorage.getItem("token")}`})})}updateProfile(i){const s=new FormData;return Object.keys(i).forEach(d=>{s.append(d,i[d])}),this.http.put(`${this.URLuser}edit-profile`,s,{headers:new t.WM({Authorization:`Bearer ${sessionStorage.getItem("token")}`})})}getCities(){return this.http.get(`${this.URLuser}cities`)}getMyRooms(){return this.http.get(`${this.URLuser}my-rooms`,{headers:new t.WM({Authorization:`Bearer ${sessionStorage.getItem("token")}`})})}getMyRoomies(){return this.http.get(`${this.URLuser}my-roomies`,{headers:new t.WM({Authorization:`Bearer ${sessionStorage.getItem("token")}`})})}saveRoomie(i){return this.http.post(`${this.URLuser}add-roomie`,i,{headers:new t.WM({Authorization:`Bearer ${sessionStorage.getItem("token")}`,"Content-Type":"application/json"})})}saveRoom(i){return this.http.post(`${this.URLuser}add-room`,i,{headers:new t.WM({Authorization:`Bearer ${sessionStorage.getItem("token")}`,"Content-Type":"application/json"})})}deleteMyRoom(i){return this.http.delete(`${this.URLuser}delete-room/${i}`,{headers:new t.WM({Authorization:`Bearer ${sessionStorage.getItem("token")}`})})}deleteMyRoomie(i){return this.http.delete(`${this.URLuser}delete-roomie/${i}`,{headers:new t.WM({Authorization:`Bearer ${sessionStorage.getItem("token")}`})})}editRoom(i,s){return this.http.put(`${this.URLuser}edit-room/${i}`,s,{headers:new t.WM({Authorization:`Bearer ${sessionStorage.getItem("token")}`})})}editRoomie(i,s){return this.http.put(`${this.URLuser}edit-roomie/${i}`,s,{headers:new t.WM({Authorization:`Bearer ${sessionStorage.getItem("token")}`})})}changePassword(i){return this.http.put(`${this.URLuser}password`,{password:i},{headers:new t.WM({Authorization:`Bearer ${sessionStorage.getItem("token")}`})})}addContent(i,s){return this.http.post(`${this.URLuser}add-room-content/${s}`,i,{headers:new t.WM({Authorization:`Bearer ${sessionStorage.getItem("token")}`})})}deleteImage(i){return this.http.delete(`${this.URLuser}delete-room-content/${i}`,{headers:new t.WM({Authorization:`Bearer ${sessionStorage.getItem("token")}`})})}}return m.\u0275fac=function(i){return new(i||m)(o.LFG(t.eN))},m.\u0275prov=o.Yz7({token:m,factory:m.\u0275fac,providedIn:"root"}),m})()}}]);