"use strict";(self.webpackChunkFrontend=self.webpackChunkFrontend||[]).push([[151],{4151:(ft,y,m)=>{m.r(y),m.d(y,{UserModule:()=>st});var g=m(6814),u=m(3403),T=m(833),Z=m(7924),t=m(5879),f=m(9913),c=m(5195),p=m(2296);let w=(()=>{class o{constructor(e,n){this.service=e,this.router=n}ngOnInit(){this.service.getSelfInfo().subscribe(e=>{e.instagram&&!e.instagram.startsWith("@")&&(e.instagram="@"+e.instagram),null!=e.image&&(e.image=e.image.replace(/\\/g,"/"),e.image=Z.N.imageURL+e.image),this.user=e},e=>{console.error(e)})}goEditProfile(){this.router.navigate(["/user/edit-profile"])}goEditPassword(){this.router.navigate(["/user/password"])}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(f.K),t.Y36(u.F0))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-profile"]],decls:59,vars:12,consts:[[1,"container"],["alt","Foto de perfil",1,"profile-picture",3,"src"],[1,"button"],["mat-raised-button","",3,"click"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"mat-card")(2,"mat-card-header")(3,"mat-card-title"),t._uU(4,"PERFIL"),t.qZA(),t._UZ(5,"br")(6,"br")(7,"img",1),t.qZA(),t._UZ(8,"br"),t.TgZ(9,"mat-card-content")(10,"p")(11,"strong"),t._uU(12,"Nombre: "),t.qZA(),t._uU(13),t.qZA(),t.TgZ(14,"p")(15,"strong"),t._uU(16,"Apellidos: "),t.qZA(),t._uU(17),t.qZA(),t.TgZ(18,"p")(19,"strong"),t._uU(20,"Username: "),t.qZA(),t._uU(21),t.qZA(),t.TgZ(22,"p")(23,"strong"),t._uU(24,"Email: "),t.qZA(),t._uU(25),t.qZA(),t.TgZ(26,"p")(27,"strong"),t._uU(28,"Registrado desde: "),t.qZA(),t._uU(29),t.qZA(),t.TgZ(30,"p")(31,"strong"),t._uU(32,"Fumador? "),t.qZA(),t._uU(33),t.qZA(),t.TgZ(34,"p")(35,"strong"),t._uU(36,"Instagram: "),t.qZA(),t._uU(37),t.qZA(),t.TgZ(38,"p")(39,"strong"),t._uU(40,"Trabajando? "),t.qZA(),t._uU(41),t.qZA(),t.TgZ(42,"p")(43,"strong"),t._uU(44,"Estudiando? "),t.qZA(),t._uU(45),t.qZA(),t.TgZ(46,"p")(47,"strong"),t._uU(48,"Edad: "),t.qZA(),t._uU(49),t.qZA(),t.TgZ(50,"p")(51,"strong"),t._uU(52,"Descripcion: "),t.qZA(),t._uU(53),t.qZA()(),t.TgZ(54,"div",2)(55,"button",3),t.NdJ("click",function(){return n.goEditProfile()}),t._uU(56,"Editar Perfil"),t.qZA(),t.TgZ(57,"button",3),t.NdJ("click",function(){return n.goEditPassword()}),t._uU(58,"Editar Contrase\xf1a"),t.qZA()()()()),2&e&&(t.xp6(7),t.Q6J("src",n.user.image?n.user.image:"../../../assets/images/logo2.png",t.LSH),t.xp6(6),t.Oqu(n.user.name),t.xp6(4),t.Oqu(n.user.surname),t.xp6(4),t.Oqu(n.user.username),t.xp6(4),t.Oqu(n.user.email),t.xp6(4),t.Oqu(n.user.date_created),t.xp6(4),t.Oqu(n.user.smoke?"Si":"No"),t.xp6(4),t.Oqu(n.user.instagram),t.xp6(4),t.hij(" ",n.user.work?"Si":"No",""),t.xp6(4),t.Oqu(n.user.study?"Si":"No"),t.xp6(4),t.Oqu(n.user.age),t.xp6(4),t.Oqu(n.user.description))},dependencies:[c.a8,c.dn,c.dk,c.n5,p.lW],styles:[".container[_ngcontent-%COMP%]{display:flex;justify-content:center;height:-moz-fit-content;height:fit-content}mat-card[_ngcontent-%COMP%]{margin:50px 100px 20px;padding:50px;width:500px}mat-card-header[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center}img[_ngcontent-%COMP%]{width:200px}.button[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-evenly;margin-top:30px}.button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-family:MiFuente;background-color:#007e3e;font-size:15px;padding:5px;color:#fff}@media (max-width: 610px){mat-card[_ngcontent-%COMP%]{margin-top:20px}}"]}),o})();var r=m(6223),k=m(6290),F=m(6676),I=m(950),h=m(2939),_=m(617),d=m(9157),b=m(4913),x=m(3680),M=m(8034),C=m(2032);let N=(()=>{class o{constructor(e,n,i,s){this.formBuilder=e,this.editService=n,this.snackBar=i,this.router=s,this.imageFileName="Foto de Perfil",this.user=new k.g("","","","","",!1,"","",!1,!1,"",""),this.userForm=this.formBuilder.group({username:["",r.kI.required],email:["",[r.kI.required,r.kI.email]],name:["",r.kI.required],surname:["",r.kI.required],smoke:[],instagram:[""],description:[""],work:[""],study:[""],birth:[],image:[null]})}ngOnInit(){this.editService.getSelfInfo().subscribe(e=>{this.userForm.patchValue({username:e.username,email:e.email,name:e.name,surname:e.surname,instagram:e.instagram,description:e.description,smoke:e.smoke,work:e.work,study:e.study,birth:new Date(e.birth)});const n=this.userForm.get("username");n&&n.disable()})}onFileSelected(e){if(e.target.files&&e.target.files.length>0){const n=e.target.files[0];this.userForm.patchValue({image:n}),this.imageFileName=n.name,this.image=n}}onSubmit(){this.userForm.valid&&(this.user.name=this.userForm.value.name,this.user.surname=this.userForm.value.surname,this.user.username=this.userForm.value.username,this.user.email=this.userForm.value.email,this.user.smoke=this.userForm.value.smoke,this.user.instagram=this.userForm.value.instagram,this.user.description=this.userForm.value.description,this.user.work=this.userForm.value.work,this.user.study=this.userForm.value.study,this.user.birth=this.userForm.value.birth,this.user.birth=F(this.user.birth).format(I.z),console.log(this.userForm.value),this.user.image=this.userForm.value.image,console.log(this.user.image),this.editService.updateProfile(this.user).subscribe({next:()=>{this.logout()},error:e=>{this.snackBar.open(e.error.text,"Cerrar",{duration:3e3})}}))}logout(){window.sessionStorage.clear(),this.router.navigate(["/auth/login"])}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(r.qu),t.Y36(f.K),t.Y36(h.ux),t.Y36(u.F0))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-edit-user"]],decls:86,vars:11,consts:[[1,"container"],["href","/home",1,"home-link"],[1,"title"],["enctype","multipart/form-data",3,"formGroup"],[1,"form-row"],[1,"form-column"],["matInput","","formControlName","username","required","",3,"disabled"],["matInput","","formControlName","email","required",""],["matInput","","formControlName","name","required",""],["matInput","","formControlName","surname","required",""],["matInput","","formControlName","instagram"],["matInput","","formControlName","description"],["formControlName","smoke"],[3,"value"],["formControlName","work"],["formControlName","study"],["matInput","","formControlName","birth",3,"matDatepicker"],["matSuffix","",3,"for"],["picker",""],["type","file","id","file","name","file","accept","image/*",1,"inputfile",3,"change"],["for","file"],["mat-raised-button","",2,"background-color","#007E3E",3,"click"]],template:function(e,n){if(1&e&&(t.TgZ(0,"div",0)(1,"mat-card")(2,"a",1)(3,"mat-icon"),t._uU(4,"arrow_back"),t.qZA()(),t.TgZ(5,"mat-card-content")(6,"div",2)(7,"mat-card-title"),t._uU(8,"Editar Usuario"),t.qZA()(),t.TgZ(9,"form",3)(10,"div",4)(11,"div",5)(12,"mat-form-field")(13,"mat-label"),t._uU(14,"Nombre de Usuario"),t.qZA(),t._UZ(15,"input",6),t.qZA()(),t.TgZ(16,"div",5)(17,"mat-form-field")(18,"mat-label"),t._uU(19,"Correo Electr\xf3nico"),t.qZA(),t._UZ(20,"input",7),t.qZA()()(),t.TgZ(21,"div",4)(22,"div",5)(23,"mat-form-field")(24,"mat-label"),t._uU(25,"Nombre"),t.qZA(),t._UZ(26,"input",8),t.qZA()(),t.TgZ(27,"div",5)(28,"mat-form-field")(29,"mat-label"),t._uU(30,"Apellido"),t.qZA(),t._UZ(31,"input",9),t.qZA()(),t.TgZ(32,"div",5)(33,"mat-form-field")(34,"mat-label"),t._uU(35,"Instagram"),t.qZA(),t._UZ(36,"input",10),t.qZA()(),t.TgZ(37,"div",5)(38,"mat-form-field")(39,"mat-label"),t._uU(40,"Descripci\xf3n"),t.qZA(),t._UZ(41,"textarea",11),t.qZA()()(),t.TgZ(42,"div",4)(43,"div",5)(44,"mat-form-field")(45,"mat-label"),t._uU(46,"\xbfFumas?"),t.qZA(),t.TgZ(47,"mat-select",12)(48,"mat-option",13),t._uU(49,"S\xed"),t.qZA(),t.TgZ(50,"mat-option",13),t._uU(51,"No"),t.qZA()()()(),t.TgZ(52,"div",5)(53,"mat-form-field")(54,"mat-label"),t._uU(55,"\xbfTrabajas?"),t.qZA(),t.TgZ(56,"mat-select",14)(57,"mat-option",13),t._uU(58,"S\xed"),t.qZA(),t.TgZ(59,"mat-option",13),t._uU(60,"No"),t.qZA()()()(),t.TgZ(61,"div",5)(62,"mat-form-field")(63,"mat-label"),t._uU(64,"\xbfEstudias?"),t.qZA(),t.TgZ(65,"mat-select",15)(66,"mat-option",13),t._uU(67,"S\xed"),t.qZA(),t.TgZ(68,"mat-option",13),t._uU(69,"No"),t.qZA()()()(),t.TgZ(70,"div",5)(71,"mat-form-field")(72,"mat-label"),t._uU(73,"Fecha de Nacimiento"),t.qZA(),t._UZ(74,"input",16)(75,"mat-datepicker-toggle",17)(76,"mat-datepicker",null,18),t.qZA()(),t.TgZ(78,"div",5)(79,"input",19),t.NdJ("change",function(s){return n.onFileSelected(s)}),t.qZA(),t.TgZ(80,"label",20),t._uU(81),t.qZA()()()()(),t.TgZ(82,"mat-card-actions")(83,"button",21),t.NdJ("click",function(){return n.onSubmit()}),t.TgZ(84,"p"),t._uU(85,"Guardar"),t.qZA()()()()()),2&e){const i=t.MAs(77);t.xp6(9),t.Q6J("formGroup",n.userForm),t.xp6(6),t.Q6J("disabled",!0),t.xp6(33),t.Q6J("value",!0),t.xp6(2),t.Q6J("value",!1),t.xp6(7),t.Q6J("value",!0),t.xp6(2),t.Q6J("value",!1),t.xp6(7),t.Q6J("value",!0),t.xp6(2),t.Q6J("value",!1),t.xp6(6),t.Q6J("matDatepicker",i),t.xp6(1),t.Q6J("for",i),t.xp6(6),t.Oqu(n.imageFileName)}},dependencies:[c.a8,c.hq,c.dn,c.n5,p.lW,_.Hw,d.KE,d.hX,d.R9,b.gD,x.ey,M.Mq,M.hl,M.nW,r._Y,r.Fj,r.JJ,r.JL,r.Q7,r.sg,r.u,C.Nt],styles:["*[_ngcontent-%COMP%]{margin:0;padding:0;box-sizing:border-box}a[_ngcontent-%COMP%]{font-size:15px;color:#007e3e}mat-hint[_ngcontent-%COMP%]{font-size:smaller;color:red}.container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:100vh;background-color:#f5f5f5}mat-card-title[_ngcontent-%COMP%]{margin-bottom:55px;align-self:center;font-size:35px}mat-card-content[_ngcontent-%COMP%]{margin-top:15px;margin-bottom:20px}mat-card[_ngcontent-%COMP%]{min-height:600px;width:600px;margin:2em;padding:2em}mat-form-field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], label[_ngcontent-%COMP%]{font-size:small}mat-form-field-underline[_ngcontent-%COMP%]{background-color:#007e3e}mat-form-field-appearance-legacy[_ngcontent-%COMP%]   mat-form-field-underline[_ngcontent-%COMP%]:after{background-color:#007e3e}.form-row[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;margin:-10px}.form-column[_ngcontent-%COMP%]{flex:1;padding:10px;box-sizing:border-box;display:flex;justify-content:center;align-items:center}mat-card-actions[_ngcontent-%COMP%]{justify-content:center}p[_ngcontent-%COMP%]{color:#fff;font-family:MiFuente;font-size:large}.inputfile[_ngcontent-%COMP%]{width:.1px;height:.1px;opacity:0;overflow:hidden;position:absolute;z-index:-1}.inputfile[_ngcontent-%COMP%] + label[_ngcontent-%COMP%]{font-size:1.25em;color:#000;border:1px solid black;border-radius:5px;padding:10px;display:inline-block}.inputfile[_ngcontent-%COMP%]:focus + label[_ngcontent-%COMP%], .inputfile[_ngcontent-%COMP%] + label[_ngcontent-%COMP%]:hover{background-color:#007e3e;border-radius:5px;padding:10px;color:#fff;border:none}.inputfile[_ngcontent-%COMP%] + label[_ngcontent-%COMP%]{cursor:pointer}.title[_ngcontent-%COMP%]{display:flex;justify-content:center}.home-link[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content}@media (max-width: 603px){mat-card[_ngcontent-%COMP%]{margin:20px}.container[_ngcontent-%COMP%]{height:auto;width:auto}}"]}),o})();class R{constructor(a,e,n){this.title=a,this.content=e,this.city=n}}function J(o,a){if(1&o&&(t.TgZ(0,"mat-option",9),t._uU(1),t.qZA()),2&o){const e=a.$implicit;t.Q6J("value",e.id),t.xp6(1),t.Oqu(e.name)}}let S=(()=>{class o{constructor(e,n,i){this.fb=e,this.router=n,this.userService=i,this.cities=[],this.isLoading=!1,this.roomie=new R("","",0),this.form=this.fb.group({title:["",r.kI.required],content:["",r.kI.required],city:["",r.kI.required]})}ngOnInit(){this.userService.getCities().subscribe(e=>{this.cities=e})}onSubmit(){this.form.valid&&(this.isLoading=!0,this.roomie.title=this.form.value.title,this.roomie.content=this.form.value.content,this.roomie.city=this.form.value.city,console.log(this.roomie),this.userService.saveRoomie(this.roomie).subscribe(e=>{this.isLoading=!1,this.router.navigate(["/home"])},e=>{this.isLoading=!1}))}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(r.qu),t.Y36(u.F0),t.Y36(f.K))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-add-roomie"]],decls:27,vars:2,consts:[[1,"container"],["href","/home",1,"home-link"],[1,"title"],[3,"formGroup"],["matInput","","formControlName","title","required",""],["matInput","","formControlName","content","required",""],["matInput","","formControlName","city","required",""],[3,"value",4,"ngFor","ngForOf"],["mat-raised-button","",3,"click"],[3,"value"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"mat-card")(2,"a",1)(3,"mat-icon"),t._uU(4,"arrow_back"),t.qZA()(),t.TgZ(5,"mat-card-content")(6,"div",2)(7,"mat-card-title"),t._uU(8,"A\xf1adir Roomie"),t.qZA()(),t.TgZ(9,"form",3)(10,"mat-form-field")(11,"mat-label"),t._uU(12,"Titulo"),t.qZA(),t._UZ(13,"input",4),t.qZA(),t.TgZ(14,"mat-form-field")(15,"mat-label"),t._uU(16,"Descripcion"),t.qZA(),t._UZ(17,"textarea",5),t.qZA(),t.TgZ(18,"mat-form-field")(19,"mat-label"),t._uU(20,"Ciudad"),t.qZA(),t.TgZ(21,"mat-select",6),t.YNc(22,J,2,2,"mat-option",7),t.qZA()()()(),t.TgZ(23,"mat-card-actions")(24,"button",8),t.NdJ("click",function(){return n.onSubmit()}),t.TgZ(25,"p"),t._uU(26,"Guardar"),t.qZA()()()()()),2&e&&(t.xp6(9),t.Q6J("formGroup",n.form),t.xp6(13),t.Q6J("ngForOf",n.cities))},dependencies:[g.sg,c.a8,c.hq,c.dn,c.n5,p.lW,_.Hw,d.KE,d.hX,b.gD,x.ey,r._Y,r.Fj,r.JJ,r.JL,r.Q7,r.sg,r.u,C.Nt],styles:[".container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}mat-card[_ngcontent-%COMP%]{margin:100px;display:flex;justify-content:center;width:800px}mat-card-content[_ngcontent-%COMP%]{margin:20px;display:flex;flex-direction:column}form[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center}.title[_ngcontent-%COMP%]{text-align:center;margin-bottom:20px;font-size:x-large}a[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content;margin:20px}mat-form-field[_ngcontent-%COMP%]{width:500px}mat-icon[_ngcontent-%COMP%]{color:#007e3e}mat-card-actions[_ngcontent-%COMP%]{justify-content:center;margin-bottom:20px}mat-card-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#007e3e;font-family:MiFuente;font-size:medium;color:#fff}@media (max-width: 610px){mat-card[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content}mat-form-field[_ngcontent-%COMP%]{width:310px}}"]}),o})();class j{constructor(a,e,n,i,s,l,P,ct,mt,lt,dt,ut,gt,pt){this.description=a,this.user_id=e,this.date_created=n,this.smoke=i,this.pet=s,this.priv_bath=l,this.n_baths=P,this.n_rooms=ct,this.garage=mt,this.n_roomies=lt,this.price=dt,this.location=ut,this.title=gt,this.city_id=pt}}var U=m(5986),v=m(5940);function E(o,a){if(1&o&&(t.TgZ(0,"mat-option",22),t._uU(1),t.qZA()),2&o){const e=a.$implicit;t.Q6J("value",e.id),t.xp6(1),t.Oqu(e.name)}}function Y(o,a){1&o&&(t.ynx(0),t.TgZ(1,"p"),t._uU(2,"Siguiente"),t.qZA(),t.BQk())}function z(o,a){1&o&&t._UZ(0,"mat-spinner",23)}let Q=(()=>{class o{constructor(e,n,i){this.fb=e,this.router=n,this.userService=i,this.cities=[],this.isLoading=!1,this.room=new j("",0,new Date,!1,!1,!1,0,0,!1,0,0,"","",0),this.form=this.fb.group({description:["",r.kI.required],smoke:[!1],pet:[!1],priv_bath:[!1],n_baths:[0,r.kI.required],n_rooms:[0,r.kI.required],garage:[!1],n_roomies:[0,r.kI.required],price:[0,r.kI.required],location:["",r.kI.required],title:["",r.kI.required],city_id:[0,r.kI.required]})}ngOnInit(){this.userService.getCities().subscribe(e=>{this.cities=e})}onSubmit(){this.form.valid&&(this.isLoading=!0,this.room=this.form.value,this.userService.saveRoom(this.room).subscribe(e=>{this.isLoading=!1,this.router.navigate(["/user/add-room-content",e.id])},e=>{this.isLoading=!1}))}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(r.qu),t.Y36(u.F0),t.Y36(f.K))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-add-room"]],decls:58,vars:4,consts:[[1,"div"],["href","/home",1,"home-link"],[1,"title"],[3,"formGroup"],["matInput","","formControlName","title","required",""],["matInput","","formControlName","city_id","required",""],[3,"value",4,"ngFor","ngForOf"],["matInput","","formControlName","location","required",""],["matInput","","type","number","formControlName","n_baths","required",""],["matInput","","type","number","formControlName","n_rooms","required",""],["matInput","","type","number","formControlName","n_roomies","required",""],["matInput","","type","number","formControlName","price","required",""],[1,"check"],[1,"check-row"],["formControlName","smoke"],["formControlName","pet"],["formControlName","priv_bath"],["formControlName","garage"],["matInput","","formControlName","description","required",""],["mat-raised-button","",3,"click"],[4,"ngIf"],["diameter","20",4,"ngIf"],[3,"value"],["diameter","20"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"mat-card")(2,"a",1)(3,"mat-icon"),t._uU(4,"arrow_back"),t.qZA()(),t.TgZ(5,"mat-card-content")(6,"div",2)(7,"mat-card-title"),t._uU(8,"A\xf1adir Habitaci\xf3n"),t.qZA()(),t.TgZ(9,"form",3)(10,"mat-form-field")(11,"mat-label"),t._uU(12,"Titulo"),t.qZA(),t._UZ(13,"input",4),t.qZA(),t.TgZ(14,"mat-form-field")(15,"mat-label"),t._uU(16,"Ciudad"),t.qZA(),t.TgZ(17,"mat-select",5),t.YNc(18,E,2,2,"mat-option",6),t.qZA()(),t.TgZ(19,"mat-form-field")(20,"mat-label"),t._uU(21,"Direcci\xf3n"),t.qZA(),t._UZ(22,"input",7),t.qZA(),t.TgZ(23,"mat-form-field")(24,"mat-label"),t._uU(25,"N\xfamero de ba\xf1os"),t.qZA(),t._UZ(26,"input",8),t.qZA(),t.TgZ(27,"mat-form-field")(28,"mat-label"),t._uU(29,"N\xfamero de habitaciones"),t.qZA(),t._UZ(30,"input",9),t.qZA(),t.TgZ(31,"mat-form-field")(32,"mat-label"),t._uU(33,"N\xfamero de compa\xf1eros de cuarto"),t.qZA(),t._UZ(34,"input",10),t.qZA(),t.TgZ(35,"mat-form-field")(36,"mat-label"),t._uU(37,"Precio"),t.qZA(),t._UZ(38,"input",11),t.qZA(),t.TgZ(39,"div",12)(40,"div",13)(41,"mat-checkbox",14),t._uU(42,"\xbfPermitido fumar?"),t.qZA(),t.TgZ(43,"mat-checkbox",15),t._uU(44,"\xbfSe permiten mascotas?"),t.qZA()(),t.TgZ(45,"div",13)(46,"mat-checkbox",16),t._uU(47,"\xbfBa\xf1o privado?"),t.qZA(),t.TgZ(48,"mat-checkbox",17),t._uU(49,"\xbfGaraje incluido?"),t.qZA()()(),t.TgZ(50,"mat-form-field")(51,"mat-label"),t._uU(52,"Descripci\xf3n"),t.qZA(),t._UZ(53,"textarea",18),t.qZA()()(),t.TgZ(54,"mat-card-actions")(55,"button",19),t.NdJ("click",function(){return n.onSubmit()}),t.YNc(56,Y,3,0,"ng-container",20),t.YNc(57,z,1,0,"mat-spinner",21),t.qZA()()()()),2&e&&(t.xp6(9),t.Q6J("formGroup",n.form),t.xp6(9),t.Q6J("ngForOf",n.cities),t.xp6(38),t.Q6J("ngIf",!n.isLoading),t.xp6(1),t.Q6J("ngIf",n.isLoading))},dependencies:[g.sg,g.O5,c.a8,c.hq,c.dn,c.n5,p.lW,_.Hw,d.KE,d.hX,b.gD,x.ey,r._Y,r.Fj,r.wV,r.JJ,r.JL,r.Q7,r.sg,r.u,C.Nt,U.oG,v.Ou],styles:[".div[_ngcontent-%COMP%]{margin-top:20px;display:flex;align-items:center;justify-content:center;height:-moz-fit-content;height:fit-content}mat-card[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content;margin-bottom:100px}.title[_ngcontent-%COMP%]{text-align:center;margin:0 20px 20px}.home-link[_ngcontent-%COMP%]{margin:20px;color:#007e3e;width:-moz-fit-content;width:fit-content}form[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center}.check-row[_ngcontent-%COMP%]{display:flex;justify-content:space-evenly}mat-form-field[_ngcontent-%COMP%]{width:400px}mat-checkbox.mat-accent[_ngcontent-%COMP%]{--mat-option-selected-state-label-text-color: #007E3E}mat-card-actions[_ngcontent-%COMP%]{justify-content:center}mat-card-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-family:MiFuente;font-size:medium;background-color:#007e3e;color:#fff}mat-spinner[_ngcontent-%COMP%]{color:#fff}@media (max-width: 610px){mat-form-field[_ngcontent-%COMP%]{width:78%}mat-card[_ngcontent-%COMP%]{width:90%}}"]}),o})();var q=m(3015),O=m(8859),A=m(7700);function B(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"div",11),t._UZ(1,"img",12),t.TgZ(2,"button",8),t.NdJ("click",function(){const s=t.CHM(e).$implicit,l=t.oxw(2);return t.KtG(l.confirmDeleteImage(s.id))}),t._uU(3,"Eliminar"),t.qZA()()}if(2&o){const e=a.$implicit;t.xp6(1),t.Q6J("src",e.content,t.LSH)}}function D(o,a){if(1&o&&(t.TgZ(0,"div",9)(1,"h3"),t._uU(2,"Im\xe1genes cargadas"),t.qZA(),t.YNc(3,B,4,1,"div",10),t.qZA()),2&o){const e=t.oxw();t.xp6(3),t.Q6J("ngForOf",e.images)}}let L=(()=>{class o{constructor(e,n,i,s,l,P){this.userService=e,this.router=n,this.route=i,this.publicService=s,this.snackbar=l,this.dialog=P,this.imageFileName="Seleccionar Imagen",this.images=[]}ngOnInit(){this.roomId=+this.route.snapshot.paramMap.get("id"),this.getRooms()}getRooms(){this.publicService.getContent(this.roomId).subscribe(e=>{this.images=e;for(let n of this.images)n.content=this.transformUrl(n.content)},e=>{console.error("Error retrieving content:",e)})}onFileSelected(e){e.target.files&&e.target.files[0]?(this.selectedFile=e.target.files[0],this.imageFileName=this.selectedFile.name):alert("Please select an image.")}onSubmit(e){if(e.preventDefault(),this.selectedFile){const n=new FormData;n.append("file",this.selectedFile),this.userService.addContent(n,this.roomId).subscribe(()=>{this.snackbar.open("Imagen subida exitosamente.","Cerrar",{duration:3e3}),this.getRooms()},i=>{alert("error")})}else alert("Please select an image before submitting.")}transformUrl(e){const n=e.replace(/\\\\/g,"/");return Z.N.imageURL+n}deleteImage(e){this.userService.deleteImage(e).subscribe(n=>{n?(this.images=this.images.filter(i=>i.id!==e),this.snackbar.open("Imagen borrada exitosamente","Cerrar",{duration:3e3}),this.getRooms()):this.snackbar.open("Error borrando la imagen.","Cerrar",{duration:3e3})},n=>{this.snackbar.open("Error borrando la imagen.","Cerrar",{duration:3e3})})}confirmDeleteImage(e){this.dialog.open(q.z,{width:"350px",data:"Seguro que quieres borrar la imagen?"}).afterClosed().subscribe(i=>{i&&this.deleteImage(e)})}goHome(){this.router.navigate(["/home"])}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(f.K),t.Y36(u.F0),t.Y36(u.gz),t.Y36(O.O),t.Y36(h.ux),t.Y36(A.uw))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-add-room-content"]],decls:17,vars:2,consts:[[1,"main"],[1,"arrow"],["href","/home",1,"home-link"],["enctype","multipart/form-data",3,"submit"],["type","file","id","file","name","file","accept","image/*",1,"inputfile",3,"change"],["for","file"],["mat-raised-button","","type","submit"],["class","images",4,"ngIf"],["mat-raised-button","",3,"click"],[1,"images"],["class","row",4,"ngFor","ngForOf"],[1,"row"],["alt","Image","width","150",3,"src"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"mat-card")(2,"div",1)(3,"a",2)(4,"mat-icon"),t._uU(5,"arrow_back"),t.qZA()()(),t.TgZ(6,"h2"),t._uU(7,"Imagenes"),t.qZA(),t.TgZ(8,"form",3),t.NdJ("submit",function(s){return n.onSubmit(s)}),t.TgZ(9,"input",4),t.NdJ("change",function(s){return n.onFileSelected(s)}),t.qZA(),t.TgZ(10,"label",5),t._uU(11),t.qZA(),t.TgZ(12,"button",6),t._uU(13,"Subir Imagen"),t.qZA()(),t.YNc(14,D,4,1,"div",7),t.TgZ(15,"button",8),t.NdJ("click",function(){return n.goHome()}),t._uU(16," Terminar "),t.qZA()()()),2&e&&(t.xp6(11),t.Oqu(n.imageFileName),t.xp6(3),t.Q6J("ngIf",n.images.length>0))},dependencies:[g.sg,g.O5,c.a8,p.lW,_.Hw,r._Y,r.JL],styles:[".inputfile[_ngcontent-%COMP%]{width:.1px;height:.1px;opacity:0;overflow:hidden;position:absolute;z-index:-1}.inputfile[_ngcontent-%COMP%] + label[_ngcontent-%COMP%]{font-size:1.25em;color:#000;border:1px solid black;border-radius:5px;padding:10px;display:inline-block}.inputfile[_ngcontent-%COMP%]:focus + label[_ngcontent-%COMP%], .inputfile[_ngcontent-%COMP%] + label[_ngcontent-%COMP%]:hover{background-color:#007e3e;border-radius:5px;padding:10px;color:#fff;border:none}.inputfile[_ngcontent-%COMP%] + label[_ngcontent-%COMP%]{cursor:pointer}button[_ngcontent-%COMP%]{margin:10px;width:-moz-fit-content;width:fit-content}label[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content}form[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center}mat-card[_ngcontent-%COMP%]{width:400px;padding:20px;display:flex;flex-direction:column;justify-content:center;align-items:center}.main[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:100%;height:90vh;margin-top:20px}.images[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center}h3[_ngcontent-%COMP%]{text-align:center;margin:35px}.row[_ngcontent-%COMP%]{margin-bottom:35px;display:flex;justify-content:center;align-items:center}.row[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-family:MiFuente;background-color:#c00;color:#fff}form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-family:MiFuente}.arrow[_ngcontent-%COMP%]{left:0;width:380px}.home-link[_ngcontent-%COMP%]{color:#007e3e}"]}),o})();var H=m(655);function G(o,a){if(1&o){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",13),t._UZ(2,"img",14),t.qZA(),t.TgZ(3,"button",15),t.NdJ("click",function(){t.CHM(e);const i=t.oxw().$implicit,s=t.oxw();return t.KtG(s.setCurrentImage(i,-1))}),t._uU(4,"\u203a"),t.qZA(),t.TgZ(5,"button",15),t.NdJ("click",function(){t.CHM(e);const i=t.oxw().$implicit,s=t.oxw();return t.KtG(s.setCurrentImage(i,1))}),t._uU(6," \u2039"),t.qZA(),t.BQk()}if(2&o){const e=t.oxw().$implicit;t.xp6(2),t.Q6J("src",e.images[e.currentImageIndex||0],t.LSH)}}function K(o,a){1&o&&(t.TgZ(0,"div",13),t._UZ(1,"img",16),t.qZA())}function $(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"mat-card",3)(1,"mat-card-header",4),t.YNc(2,G,7,1,"ng-container",5),t.YNc(3,K,2,0,"ng-template",null,6,t.W1O),t.qZA(),t.TgZ(5,"mat-card-content")(6,"mat-card-title"),t._uU(7),t.qZA(),t.TgZ(8,"mat-card-subtitle"),t._uU(9),t.qZA(),t.TgZ(10,"mat-card-subtitle"),t._uU(11),t.qZA(),t.TgZ(12,"mat-card-subtitle"),t._uU(13),t.qZA(),t._UZ(14,"br"),t.TgZ(15,"p")(16,"strong"),t._uU(17,"Fecha de creaci\xf3n:"),t.qZA(),t._uU(18),t.qZA(),t.TgZ(19,"p")(20,"strong"),t._uU(21,"Descripci\xf3n:"),t.qZA(),t._uU(22),t.qZA(),t.TgZ(23,"p")(24,"strong"),t._uU(25,"Direcci\xf3n:"),t.qZA(),t._uU(26),t.qZA(),t.TgZ(27,"p")(28,"strong"),t._uU(29,"Precio:"),t.qZA(),t._uU(30),t.qZA(),t.TgZ(31,"div",7)(32,"div",8)(33,"p")(34,"strong"),t._uU(35,"N\xba Ba\xf1os:"),t.qZA(),t._uU(36),t.qZA()(),t.TgZ(37,"div",8)(38,"p")(39,"strong"),t._uU(40,"N\xba Habitaciones:"),t.qZA(),t._uU(41),t.qZA()(),t.TgZ(42,"div",8)(43,"p")(44,"strong"),t._uU(45,"N\xba Roomies:"),t.qZA(),t._uU(46),t.qZA()(),t.TgZ(47,"div",8)(48,"p")(49,"strong"),t._uU(50,"Garaje:"),t.qZA()(),t.TgZ(51,"mat-icon"),t._uU(52),t.qZA()(),t.TgZ(53,"div",8)(54,"p")(55,"strong"),t._uU(56,"Mascotas?:"),t.qZA(),t.TgZ(57,"mat-icon"),t._uU(58),t.qZA()()(),t.TgZ(59,"div",8)(60,"p")(61,"strong"),t._uU(62,"Ba\xf1o privado:"),t.qZA(),t.TgZ(63,"mat-icon"),t._uU(64),t.qZA()()(),t.TgZ(65,"div",8)(66,"p")(67,"strong"),t._uU(68,"Se puede fumar?:"),t.qZA(),t.TgZ(69,"mat-icon"),t._uU(70),t.qZA()()()()(),t.TgZ(71,"div",9)(72,"div",10)(73,"button",11),t.NdJ("click",function(){const s=t.CHM(e).$implicit,l=t.oxw();return t.KtG(l.editRoom(s))}),t._uU(74,"Editar"),t.qZA()(),t.TgZ(75,"div",12)(76,"button",11),t.NdJ("click",function(){const s=t.CHM(e).$implicit,l=t.oxw();return t.KtG(l.confirmDelete(s.id))}),t._uU(77,"Eliminar"),t.qZA()(),t.TgZ(78,"div",10)(79,"button",11),t.NdJ("click",function(){const s=t.CHM(e).$implicit,l=t.oxw();return t.KtG(l.goToImages(s.id))}),t._uU(80,"Imagenes"),t.qZA()()()()}if(2&o){const e=a.$implicit,n=t.MAs(4);t.xp6(2),t.Q6J("ngIf",e.images&&e.images.length>0)("ngIfElse",n),t.xp6(5),t.Oqu(e.title),t.xp6(2),t.hij(" ",e.user_name," "),t.xp6(2),t.hij(" ",e.city_name," "),t.xp6(2),t.hij(" #",e.id," "),t.xp6(5),t.hij(" ",e.date_created,""),t.xp6(4),t.hij(" ",e.description,""),t.xp6(4),t.hij(" ",e.location,""),t.xp6(4),t.hij(" ",e.price,"\u20ac"),t.xp6(6),t.hij("",e.n_baths," "),t.xp6(5),t.Oqu(e.n_rooms),t.xp6(5),t.Oqu(e.n_roomies),t.xp6(6),t.Oqu(e.garage?"check":"close"),t.xp6(6),t.Oqu(e.pet?"check":"close"),t.xp6(6),t.Oqu(e.priv_bath?"check":"close"),t.xp6(6),t.Oqu(e.smoke?"check":"close")}}let X=(()=>{class o{constructor(e,n,i,s,l){this.userService=e,this.snackbar=n,this.router=i,this.dialog=s,this.publicService=l,this.rooms=[]}ngOnInit(){this.loadRooms()}loadRooms(){this.userService.getMyRooms().subscribe(e=>{this.rooms=e,this.rooms.forEach(n=>{this.publicService.getContent(n.id).subscribe(i=>{n.images=i.map(s=>this.transformUrl(s.content)),n.currentImageIndex=0})})},e=>{this.snackbar.open("No se han encontrado habitaciones","Cerrar",{duration:3e3})})}confirmDelete(e){this.dialog.open(q.z,{width:"350px",data:"\xbfEst\xe1s seguro de que quieres eliminar esta habitaci\xf3n?"}).afterClosed().subscribe(i=>{i&&this.deleteRoom(e)})}deleteRoom(e){this.userService.deleteMyRoom(e).subscribe(()=>{this.snackbar.open("Habitaci\xf3n eliminada con \xe9xito.","Cerrar",{duration:3e3}),this.loadRooms()},n=>{this.snackbar.open("Error al eliminar la habitaci\xf3n.","Cerrar",{duration:3e3})})}editRoom(e){this.dialog.open(H.g,{width:"400px",data:e}).afterClosed().subscribe(i=>{i&&this.userService.editRoom(e.id,i).subscribe(s=>{this.snackbar.open("Habitacion editada correctamente","Cerrar",{duration:3e3}),this.loadRooms()},s=>{this.snackbar.open("Error editando la habitacion","Cerrar",{duration:3e3})})})}goToImages(e){this.router.navigate(["/user/add-room-content",e])}setCurrentImage(e,n){!e.images||0===e.images.length||(e.currentImageIndex=(e.currentImageIndex+n+e.images.length)%e.images.length)}transformUrl(e){const n=e.replace(/\\\\/g,"/");return Z.N.imageURL+n}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(f.K),t.Y36(h.ux),t.Y36(u.F0),t.Y36(A.uw),t.Y36(O.O))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-my-rooms"]],decls:3,vars:1,consts:[[1,"container"],[1,"card-container"],["class","card",4,"ngFor","ngForOf"],[1,"card"],[1,"image"],[4,"ngIf","ngIfElse"],["defaultImage",""],[1,"extras"],[1,"token"],[1,"buttons"],[1,"button"],["mat-raised-button","",3,"click"],[1,"button","delete"],[1,"photo"],["alt","Imagen de la habitaci\xf3n",1,"room-image",3,"src"],[1,"arrow",3,"click"],["src","../../../assets/images/logo2.png","alt","Logo",1,"room-image"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"div",1),t.YNc(2,$,81,17,"mat-card",2),t.qZA()()),2&e&&(t.xp6(2),t.Q6J("ngForOf",n.rooms))},dependencies:[g.sg,g.O5,c.a8,c.dn,c.dk,c.$j,c.n5,p.lW,_.Hw],styles:["*[_ngcontent-%COMP%]{margin:0;padding:0;box-sizing:border-box}.container[_ngcontent-%COMP%]{margin-top:128px;position:relative;display:flex;flex-direction:column;height:auto;width:auto;background-color:#f5f5f5;padding-bottom:25px}mat-paginator[_ngcontent-%COMP%]{background-color:#f5f5f5;display:flex;align-items:center;justify-content:center;margin-top:20px}.card-container[_ngcontent-%COMP%]{margin-top:30px;height:auto;width:auto;display:flex;justify-content:center;flex-wrap:wrap;gap:50px}.card[_ngcontent-%COMP%]{width:600px}img[_ngcontent-%COMP%]{width:auto;height:290px}.image[_ngcontent-%COMP%]{position:relative;min-height:250px;width:auto}.photo[_ngcontent-%COMP%]{display:flex;justify-content:center;width:600px}.room-image[_ngcontent-%COMP%]{display:block;height:250px;width:auto;justify-self:center}.arrow[_ngcontent-%COMP%]{position:absolute;top:50%;transform:translateY(-50%);background-color:#00000080;color:#fff;border:none;font-size:18px;padding:10px 15px;cursor:pointer}.arrow[_ngcontent-%COMP%]:focus{outline:none}.arrow[_ngcontent-%COMP%]:nth-child(2){left:0}.arrow[_ngcontent-%COMP%]:nth-child(3){right:15px}p[_ngcontent-%COMP%]{width:auto;margin:5px;display:flex}.extras[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:10px;justify-content:center;align-items:center;width:600px;margin-bottom:15px}.token[_ngcontent-%COMP%]{display:flex;justify-content:center}mat-card-content[_ngcontent-%COMP%]{margin:10px}mat-card-header[_ngcontent-%COMP%]{margin-top:0}strong[_ngcontent-%COMP%]{margin-right:5px}mat-card-title[_ngcontent-%COMP%]{font-size:xx-large;font-weight:700;margin-left:5px}mat-card-subtitle[_ngcontent-%COMP%]{margin-left:5px}.button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-family:MiFuente;background-color:#007e3e;font-size:15px;padding:5px;color:#fff}.delete[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#c00}.button[_ngcontent-%COMP%]{justify-content:right;text-align:right;margin:15px}.add[_ngcontent-%COMP%]{background-color:#007e3e;position:fixed;bottom:66px;left:16px;z-index:1000}.buttons[_ngcontent-%COMP%]{display:flex;justify-content:center}@media (max-width: 610px){.container[_ngcontent-%COMP%]{margin-top:112px}.card[_ngcontent-%COMP%]{width:352px}.extras[_ngcontent-%COMP%]{justify-content:left;width:250px}mat-paginator[_ngcontent-%COMP%]{font-size:10px}}"]}),o})();var W=m(5036);function V(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"mat-card",3)(1,"mat-card-header")(2,"mat-card-title-group")(3,"mat-card-title"),t._uU(4),t.qZA(),t.TgZ(5,"mat-card-subtitle"),t._uU(6),t.qZA(),t.TgZ(7,"mat-card-subtitle"),t._uU(8),t.qZA(),t.TgZ(9,"mat-card-subtitle"),t._uU(10),t.qZA(),t._UZ(11,"img",4),t.qZA()(),t.TgZ(12,"mat-card-content")(13,"p"),t._uU(14),t.qZA()(),t.TgZ(15,"div",5)(16,"div",6)(17,"button",7),t.NdJ("click",function(){const s=t.CHM(e).$implicit,l=t.oxw();return t.KtG(l.editRoomie(s))}),t._uU(18,"Editar"),t.qZA()(),t.TgZ(19,"div",8),t.NdJ("click",function(){const s=t.CHM(e).$implicit,l=t.oxw();return t.KtG(l.confirmDelete(s.id))}),t.TgZ(20,"button",9),t._uU(21,"Eliminar"),t.qZA()()()()}if(2&o){const e=a.$implicit,n=t.oxw();t.xp6(4),t.hij(" ",e.title," "),t.xp6(2),t.hij(" ",e.user_name," "),t.xp6(2),t.hij(" ",e.date_posted," "),t.xp6(2),t.hij(" ",e.city_name," "),t.xp6(1),t.Q6J("src",n.userImages[e.user_id]||"../../../assets/images/logo2.png",t.LSH),t.xp6(3),t.hij(" ",e.content," ")}}function et(o,a){1&o&&(t.TgZ(0,"mat-hint"),t._uU(1,"Las contrase\xf1as no coinciden"),t.qZA())}function nt(o,a){1&o&&(t.TgZ(0,"span"),t._uU(1,"Enviar"),t.qZA())}function ot(o,a){1&o&&t._UZ(0,"mat-spinner",10)}const rt=[{path:"",component:T.S,children:[{path:"profile",component:w},{path:"my-rooms",component:X},{path:"my-roomies",component:(()=>{class o{constructor(e,n,i,s,l){this.userService=e,this.dialog=n,this.snackBar=i,this.router=s,this.publicService=l,this.roomies=[],this.userImages={}}ngOnInit(){this.loadRoomies()}loadRoomies(){this.userService.getMyRoomies().subscribe(e=>{this.roomies=e,this.roomies.forEach(n=>{this.publicService.getUserById(n.user_id).subscribe(i=>{null!=i.image&&(i.image=i.image.replace(/\\/g,"/"),i.image=Z.N.imageURL+i.image),this.userImages[n.user_id]=i.image})})},e=>{this.snackBar.open("No se han encontrado publicaciones","Cerrar",{duration:3e3})})}confirmDelete(e){this.dialog.open(q.z,{width:"350px",data:"\xbfEst\xe1s seguro de que quieres eliminar esta publicaci\xf3n?"}).afterClosed().subscribe(i=>{i&&this.deleteRoomie(e)})}deleteRoomie(e){this.userService.deleteMyRoomie(e).subscribe(()=>{this.snackBar.open("Publicacion eliminada con \xe9xito.","Cerrar",{duration:3e3}),this.loadRoomies()},n=>{this.snackBar.open("Error al eliminar la publicaci\xf3n.","Cerrar",{duration:3e3})})}editRoomie(e){this.dialog.open(W.B,{width:"400px",data:e}).afterClosed().subscribe(i=>{i&&this.userService.editRoomie(e.id,i).subscribe(s=>{this.snackBar.open("Publicaci\xf3n editada correctamente","Cerrar",{duration:3e3}),this.loadRoomies()},s=>{this.snackBar.open("Error editando la publicaci\xf3n","Cerrar",{duration:3e3})})})}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(f.K),t.Y36(A.uw),t.Y36(h.ux),t.Y36(u.F0),t.Y36(O.O))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-my-roomies"]],decls:3,vars:1,consts:[[1,"container"],[1,"card-container"],["class","card",4,"ngFor","ngForOf"],[1,"card"],["mat-card-md-image","","alt","image",3,"src"],[1,"buttons"],[1,"button"],["mat-raised-button","",3,"click"],[1,"button","delete",3,"click"],["mat-raised-button",""]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"div",1),t.YNc(2,V,22,6,"mat-card",2),t.qZA()()),2&e&&(t.xp6(2),t.Q6J("ngForOf",n.roomies))},dependencies:[g.sg,c.a8,c.dn,c.dk,c.nc,c.$j,c.n5,c.C1,p.lW],styles:[".container[_ngcontent-%COMP%]{margin-top:128px;background-color:#f5f5f5;padding-top:10px;padding-bottom:10px}.card[_ngcontent-%COMP%]{margin-right:90px;margin-left:90px;margin-top:30px}.button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-family:MiFuente;background-color:#007e3e;font-size:15px;padding:5px;color:#fff}.button[_ngcontent-%COMP%]{justify-content:right;text-align:right;margin:15px}.add[_ngcontent-%COMP%]{background-color:#007e3e;position:fixed;bottom:66px;left:16px;z-index:1000}mat-paginator[_ngcontent-%COMP%]{background-color:#f5f5f5;display:flex;align-items:center;justify-content:center;margin-top:20px}.buttons[_ngcontent-%COMP%]{display:flex;justify-content:center}.delete[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#c00}img[_ngcontent-%COMP%]{width:auto}@media (max-width: 610px){.card[_ngcontent-%COMP%]{margin-left:15px;margin-right:15px}mat-paginator[_ngcontent-%COMP%]{font-size:11px}}"]}),o})()},{path:"password",component:(()=>{class o{ngOnInit(){this.form.controls.repPassword.valueChanges.subscribe(()=>{this.passwordMatchValidator()})}constructor(e,n,i,s){this.formBuilder=e,this.userService=n,this.router=i,this.snackBar=s,this.loading=!1,this.passwordsMatch=!1,this.form=this.formBuilder.group({password:["",[r.kI.required,r.kI.maxLength(255),r.kI.pattern(/^(?=.*[A-Z])(?=.*[!#$%&'()*+,\-./:;<=>?@\\^_`{|}~])(?=.*[0-9]).{8,}$/)]],repPassword:["",[r.kI.required]]})}getData(){this.loading=!0;let e=this.form.get("password")?.value;this.userService.changePassword(e).subscribe({next:()=>{this.loading=!1,this.snackBar.open("Contrase\xf1a cambiada correctamente","Cerrar",{duration:3e3}),this.router.navigate(["/home"])},error:n=>{this.snackBar.open(n.error.text,"Cerrar",{duration:3e3})}})}passwordMatchValidator(){this.form.controls.password.value!==this.form.controls.repPassword.value&&this.form.controls.repPassword.setErrors({NoPassswordMatch:!0})}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(r.qu),t.Y36(f.K),t.Y36(u.F0),t.Y36(h.ux))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-new-password"]],decls:23,vars:5,consts:[[1,"container"],[1,"login-card"],[3,"formGroup","submit"],["appearance","fill",1,"form-field"],["matInput","","type","password","name","password","formControlName","password"],["matInput","","type","password","formControlName","repPassword"],[4,"ngIf"],[1,"button"],["mat-raised-button","","type","submit",3,"disabled"],["diameter","20",4,"ngIf"],["diameter","20"]],template:function(e,n){if(1&e&&(t.TgZ(0,"div",0)(1,"mat-card",1)(2,"h2")(3,"mat-label"),t._uU(4,"Cambiar Contrase\xf1a"),t.qZA()(),t.TgZ(5,"form",2),t.NdJ("submit",function(){return n.getData()}),t.TgZ(6,"mat-form-field",3)(7,"mat-label"),t._uU(8,"Contrase\xf1a:"),t.qZA(),t._UZ(9,"input",4),t.TgZ(10,"mat-hint"),t._uU(11,"Debe tener al menos 8 caracteres, una may\xfascula, una min\xfascula y un car\xe1cter no alfanum\xe9rico."),t.qZA()(),t._UZ(12,"br"),t.TgZ(13,"mat-form-field",3)(14,"mat-label"),t._uU(15,"Confirmar Contrase\xf1a:"),t.qZA(),t._UZ(16,"input",5),t.YNc(17,et,2,0,"mat-hint",6),t.qZA(),t._UZ(18,"br"),t.TgZ(19,"div",7)(20,"button",8),t.YNc(21,nt,2,0,"span",6),t.YNc(22,ot,1,0,"mat-spinner",9),t.qZA()()()()()),2&e){let i;t.xp6(5),t.Q6J("formGroup",n.form),t.xp6(12),t.Q6J("ngIf",null==(i=n.form.get("repPassword"))?null:i.hasError("NoPassswordMatch")),t.xp6(3),t.Q6J("disabled",!n.form.valid),t.xp6(1),t.Q6J("ngIf",!n.loading),t.xp6(1),t.Q6J("ngIf",n.loading)}},dependencies:[g.O5,c.a8,p.lW,d.KE,d.hX,d.bx,r._Y,r.Fj,r.JJ,r.JL,r.sg,r.u,C.Nt,v.Ou],styles:[".login-card[_ngcontent-%COMP%]{width:400px;display:flex;justify-content:center;align-items:center;margin-top:100px}.container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.button[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin-bottom:20px}span[_ngcontent-%COMP%]{color:#fff}.button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#007e3e}mat-hint[_ngcontent-%COMP%]{font-size:10px}mat-form-field[_ngcontent-%COMP%]:first-child{margin-bottom:25px}"]}),o})()}]},{path:"edit-profile",component:N},{path:"add-roomie",component:S},{path:"add-room",component:Q},{path:"add-room-content/:id",component:L}];let at=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[u.Bz.forChild(rt),u.Bz]}),o})(),st=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[g.ez,at,c.QW,p.ot,_.Ps,d.lN,b.LD,M.FA,r.UX,C.c,d.lN,b.LD,x.XK,h.ZX,U.p9,A.Is,v.Cq]}),o})()}}]);